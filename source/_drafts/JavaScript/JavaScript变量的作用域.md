---
title: JavaScript变量的作用域
date: 2021-11-10 20:18:30
tags:
 - JavaScript
 - 随笔
categories:
 - JavaScript
 - 随笔
---



#  JavaScript变量的作用域 Scpoe

作用域的概念，简单来说就是对于一个



a = 1，这个操作等于了在全局变量上进行了创建。如同使用一个普通函数 fn()，一样，这个函数的this指向也是全局的变量。



* 浏览器和node的一个小区别，在全局变量中，

  * node的全局变量，是一个名为Global 的全局对象，并且使用 var定义的变量不会加入其中，只有直接定义的变量会加入其中。

    * ```
      var a = 1;
      b = 2;
      ```

  * 浏览器的全局变量，是一个window对象，使用var定义的变量和直接定义的变量也会加入其中。

    * ```
      a = 1;
      var b = 2;
      
      下面定义的不会加入其中。
      let c = 3;
      const d = 4;
      ```



这里的一个问题，就是你会发现，这里的a为什么是先输出的1.

​		开始我的理解是，先有个a的参数嘛，然后又预定义了一个a，因为这个var是在词法环境的阶段进行了操作。然后再进行了输出，此时就应该是undefined，但是是不对的。

​		**个人认为正确的理解**：首先我们得知道var的定义是在词法环境的创建的时候进行的定义，所以我们就知道了函数的参数其实是在词法环境之后进行的赋值，所以我们是先定义了一个 var a; 此时这个a为undefined，然后便是进行一个参数a的赋值，此时这个a以及被定义了，所以a的赋值是在a的定义之后的。

```
(function (a) {
  console.log(a);
  var a = 4;
  console.log(a);
})(1)

1
4
```

