---
title: 从输入URL到浏览器显示页面发生了什么
date: 2023-07-02 15:16:12
tags:
 - 浏览器
categories:
 - 浏览器
---


# 从输入URL到浏览器显示页面发生了什么

![Alt text](./%E4%BB%8E%E8%BE%93%E5%85%A5URL%E5%88%B0%E6%B5%8F%E8%A7%88%E5%99%A8%E6%98%BE%E7%A4%BA%E9%A1%B5%E9%9D%A2%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88/image.png)

## 从 url 到 ip 的转换

首先就是，我们会将浏览器输入的url，通过 dns协议，将 域名解析为 IP。这里 dns 协议是基于 udp 来实现的。

### DNS 协议

DNS解析流程分为递归查询和迭代查询，递归查询是以本地名称服务器为中心查询， 递归查询是默认方式，迭代查询是以DNS客户端，也就是客户机器为中心查询。其实DNS客户端和本地名称服务器是递归，而本地名称服务器和其他名称服务器之间是迭代。
个人猜测使用了迭代和递归两个的原因是：域名服务器为了省下被占用的时间，所以需要使用迭代进行查询。

dns 使用的是 udp 链接，因为 udp 快速，不需要进行三次握手。


## IP 访问

同一个IP访问请求，一次最多只能发送6个tcp连接请求


## tcp 连接，三次握手



## http 请求


![Alt text](./%E4%BB%8E%E8%BE%93%E5%85%A5URL%E5%88%B0%E6%B5%8F%E8%A7%88%E5%99%A8%E6%98%BE%E7%A4%BA%E9%A1%B5%E9%9D%A2%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88/image.png)









