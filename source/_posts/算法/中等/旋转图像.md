---
title: 旋转图像
tags:
  - 算法
  - 中等
categories:
  - 算法
  - 中等
date: 2023-09-04 17:54:52
---

# 旋转图像


```
https://leetcode.cn/problems/rotate-image/
```

## 描述

给定一个 n × n 的二维矩阵 matrix 表示一个图像。请你将图像顺时针旋转 90 度。

你必须在 原地 旋转图像，这意味着你需要直接修改输入的二维矩阵。请不要 使用另一个矩阵来旋转图像。

 

示例 1：


输入：matrix = [[1,2,3],[4,5,6],[7,8,9]]
输出：[[7,4,1],[8,5,2],[9,6,3]]
示例 2：


输入：matrix = [[5,1,9,11],[2,4,8,10],[13,3,6,7],[15,14,12,16]]
输出：[[15,13,2,5],[14,3,4,1],[12,6,8,9],[16,7,10,11]]
 

提示：

n == matrix.length == matrix[i].length
1 <= n <= 20
-1000 <= matrix[i][j] <= 1000

## 算法


### 先水平对称旋转 再 斜线对称



```JavaScript

/**
 * @param {number[][]} matrix
 * @return {void} Do not return anything, modify matrix in-place instead.
 */
var rotate = function(matrix) {
  const len1 = matrix.length, len2 = matrix[0].length;

  // 水平对称旋转
  for (let i=0; i<Math.floor(len1 / 2); i++) {
    for (let j=0; j<len2; j++) {
      [matrix[i][j], matrix[len1-1-i][j]] = [matrix[len1-1-i][j], matrix[i][j]]
    }
  }

  // 斜线对称旋转
  for (let i=0; i<len1; i++) {
    for (let j=i; j<len2; j++) {
      [matrix[i][j], matrix[j][i]] = [matrix[j][i], matrix[i][j]]
    }
  }

  return matrix;
};

```


### 直接统计计算规律

统计规律 
1 xxxx 2            3 xxxx 1
xxxxxxxx    ===>    xxxxxxxx
xxxxxxxx    ===>    xxxxxxxx
3 xxxx 4            4 xxxx 2

n => len

1 => i, j
2 => j, n-i
3 => n-j, i
4 => n-i, n-j


```JavaScript
/**
 * @param {number[][]} matrix
 * @return {void} Do not return anything, modify matrix in-place instead.
 */
var rotate = function(matrix) {
  const len = matrix.length;
  const mid = Math.floor(len / 2);

  for (let i=0; i<Math.floor(len / 2); i++) {
    for (let j=0; j<Math.floor((len+1) / 2); j++) {
      [matrix[i][j], matrix[j][len-1-i], matrix[len-1-i][len-1-j], matrix[len-1-j][i]] = 
        [matrix[len-1-j][i], matrix[i][j], matrix[j][len-1-i], matrix[len-1-i][len-1-j]];
    }
  }

  return matrix;
};

```
